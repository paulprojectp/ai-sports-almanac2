<!DOCTYPE html><html lang="en"><head>
  <!-- Last updated: 2025-06-04T13:46:26.448Z -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Sports Almanac</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        header {
            background-color: #fff;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        h1 {
            margin: 0;
            font-size: 1.5rem;
            color: #333;
        }
        
        main {
            flex: 1;
            padding: 1rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        .title {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 2rem;
        }
        
        .games-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
        }
        
        .game-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 100%;
            max-width: 350px;
        }
        
        .game-header {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            padding: 1rem;
            gap: 0.5rem;
        }
        
        .team {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .team-logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }
        
        .team-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .team-abbr {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
        }
        
        .team-record {
            font-size: 0.8rem;
            color: #666;
        }
        
        .vs {
            font-weight: bold;
        }
        
        .game-details {
            padding: 1rem;
            text-align: center;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
            background-color: #f9f9f9;
            font-size: 0.9rem;
        }
        
        .game-time {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .game-venue {
            color: #666;
        }
        
        .predictions-button {
            display: block;
            width: 100%;
            padding: 0.75rem;
            background-color: #1a73e8;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        
        .predictions-button:hover {
            background-color: #1557b0;
        }
        
        .predictions {
            padding: 1rem;
            display: none;
        }
        
        .predictions.active {
            display: block;
        }
        
        .prediction {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .prediction:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .prediction-source {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #1a73e8;
        }
        
        .prediction-text {
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .settings-button {
            background-color: transparent;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .settings-button:hover {
            background-color: #f5f5f5;
        }
        
        .settings-icon {
            width: 16px;
            height: 16px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .modal-title {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .close-button {
            background-color: transparent;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .api-key-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-group label {
            font-weight: bold;
        }
        
        .form-group input {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .save-button {
            padding: 0.75rem;
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 1rem;
        }
        
        .save-button:hover {
            background-color: #1557b0;
        }
        
        .api-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.25rem;
            font-size: 0.8rem;
        }
        
        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .status-indicator.active {
            background-color: #4caf50;
        }
        
        .status-indicator.inactive {
            background-color: #f44336;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: #1a73e8;
            animation: spin 1s ease-in-out infinite;
            margin-right: 0.5rem;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .prediction-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        @media (max-width: 768px) {
            .games-container {
                flex-direction: column;
                align-items: center;
            }
            
            .game-card {
                max-width: 100%;
            }
        }

        .disclaimer {
            text-align: center;
            font-size: 0.8rem;
            color: #666;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <header>
        <h1>AI Sports Almanac</h1>
        <button id="settingsButton" class="settings-button">
            <svg class="settings-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
            API Settings
        </button>
    </header>
    
    <main>
        <h2 class="title">Today's MLB Games</h2>
        <p class="subtitle">View predictions from multiple AI models for upcoming baseball games.</p>
        
        <div class="games-container">
        <div class="game-card">
            <div class="game-header">
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/wsh_logo.svg" alt="Washington Nationals logo" class="team-logo">
                    </div>
                    <div class="team-abbr">WSH</div>
                    <div class="team-record">28-30</div>
                </div>
                <div class="vs">vs</div>
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/ari_logo.svg" alt="Arizona Diamondbacks logo" class="team-logo">
                    </div>
                    <div class="team-abbr">ARI</div>
                    <div class="team-record">27-31</div>
                </div>
            </div>
            <div class="game-details">
                <div class="game-time">Sun, Jun 1</div>
                <div class="game-time">12:10 AM EDT</div>
                <div class="game-venue">Chase Field, Phoenix, AZ</div>
            </div>
            <button class="predictions-button" data-game-id="wsh-ari" onclick="togglePredictions(this)">Show Predictions</button>
            <div class="predictions" id="predictions-wsh-ari">
                <!-- Predictions will be loaded here -->
            </div>
        </div>
        <div class="game-card">
            <div class="game-header">
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/min_logo.svg" alt="Minnesota Twins logo" class="team-logo">
                    </div>
                    <div class="team-abbr">MIN</div>
                    <div class="team-record">31-26</div>
                </div>
                <div class="vs">vs</div>
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/sea_logo.svg" alt="Seattle Mariners logo" class="team-logo">
                    </div>
                    <div class="team-abbr">SEA</div>
                    <div class="team-record">31-26</div>
                </div>
            </div>
            <div class="game-details">
                <div class="game-time">Sun, Jun 1</div>
                <div class="game-time">12:10 AM EDT</div>
                <div class="game-venue">T-Mobile Park, Seattle, WA</div>
            </div>
            <button class="predictions-button" data-game-id="min-sea" onclick="togglePredictions(this)">Show Predictions</button>
            <div class="predictions" id="predictions-min-sea">
                <!-- Predictions will be loaded here -->
            </div>
        </div>
        <div class="game-card">
            <div class="game-header">
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/pit_logo.svg" alt="Pittsburgh Pirates logo" class="team-logo">
                    </div>
                    <div class="team-abbr">PIT</div>
                    <div class="team-record">22-37</div>
                </div>
                <div class="vs">vs</div>
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/sd_logo.svg" alt="San Diego Padres logo" class="team-logo">
                    </div>
                    <div class="team-abbr">SD</div>
                    <div class="team-record">32-24</div>
                </div>
            </div>
            <div class="game-details">
                <div class="game-time">Sun, Jun 1</div>
                <div class="game-time">01:10 AM EDT</div>
                <div class="game-venue">Petco Park, San Diego, CA</div>
            </div>
            <button class="predictions-button" data-game-id="pit-sd" onclick="togglePredictions(this)">Show Predictions</button>
            <div class="predictions" id="predictions-pit-sd">
                <!-- Predictions will be loaded here -->
            </div>
        </div>
        <div class="game-card">
            <div class="game-header">
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/nyy_logo.svg" alt="New York Yankees logo" class="team-logo">
                    </div>
                    <div class="team-abbr">NYY</div>
                    <div class="team-record">35-22</div>
                </div>
                <div class="vs">vs</div>
                <div class="team">
                    <div class="team-logo">
                        <img src="team-logos/lad_logo.svg" alt="Los Angeles Dodgers logo" class="team-logo">
                    </div>
                    <div class="team-abbr">LAD</div>
                    <div class="team-record">36-22</div>
                </div>
            </div>
            <div class="game-details">
                <div class="game-time">Sun, Jun 1</div>
                <div class="game-time">03:10 AM EDT</div>
                <div class="game-venue">Dodger Stadium, Los Angeles, CA</div>
            </div>
            <button class="predictions-button" data-game-id="nyy-lad" onclick="togglePredictions(this)">Show Predictions</button>
            <div class="predictions" id="predictions-nyy-lad">
                <!-- Predictions will be loaded here -->
            </div>
        </div></div>
    </main>
    
    <!-- API Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">API Settings</h2>
                <button id="closeModal" class="close-button">×</button>
            </div>
            <p>Enter your API keys to get real predictions from AI models. Your keys are stored only in your browser and are never sent to our servers.</p>
            <form id="apiKeyForm" class="api-key-form">
                <div class="form-group">
                    <label for="openaiKey">OpenAI API Key</label>
                    <input type="password" id="openaiKey" placeholder="sk-...">
                    <div class="api-status">
                        <div id="openaiStatus" class="status-indicator inactive"></div>
                        <span id="openaiStatusText">Not configured</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="anthropicKey">Anthropic API Key</label>
                    <input type="password" id="anthropicKey" placeholder="sk-ant-...">
                    <div class="api-status">
                        <div id="anthropicStatus" class="status-indicator inactive"></div>
                        <span id="anthropicStatusText">Not configured</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="grokKey">Grok API Key</label>
                    <input type="password" id="grokKey" placeholder="grok-...">
                    <div class="api-status">
                        <div id="grokStatus" class="status-indicator inactive"></div>
                        <span id="grokStatusText">Not configured</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="deepseekKey">DeepSeek API Key</label>
                    <input type="password" id="deepseekKey" placeholder="deepseek-...">
                    <div class="api-status">
                        <div id="deepseekStatus" class="status-indicator inactive"></div>
                        <span id="deepseekStatusText">Not configured</span>
                    </div>
                </div>
                <button type="submit" class="save-button">Save API Keys</button>
            </form>
        </div>
    </div>
    
    <script>
        // Store API keys in session storage
        const API_KEYS = {
            openai: sessionStorage.getItem('openai_api_key') || '',
            anthropic: sessionStorage.getItem('anthropic_api_key') || '',
            grok: sessionStorage.getItem('grok_api_key') || '',
            deepseek: sessionStorage.getItem('deepseek_api_key') || ''
        };
        
        // Game data
        const GAMES = {
    "wsh-ari": {
        "away": {
            "team": "Washington Nationals",
            "abbr": "WSH",
            "record": "28-30"
        },
        "home": {
            "team": "Arizona Diamondbacks",
            "abbr": "ARI",
            "record": "27-31"
        },
        "time": "12:10 AM EDT",
        "date": "Sun, Jun 1",
        "venue": "Chase Field, Phoenix, AZ"
    },
    "min-sea": {
        "away": {
            "team": "Minnesota Twins",
            "abbr": "MIN",
            "record": "31-26"
        },
        "home": {
            "team": "Seattle Mariners",
            "abbr": "SEA",
            "record": "31-26"
        },
        "time": "12:10 AM EDT",
        "date": "Sun, Jun 1",
        "venue": "T-Mobile Park, Seattle, WA"
    },
    "pit-sd": {
        "away": {
            "team": "Pittsburgh Pirates",
            "abbr": "PIT",
            "record": "22-37"
        },
        "home": {
            "team": "San Diego Padres",
            "abbr": "SD",
            "record": "32-24"
        },
        "time": "01:10 AM EDT",
        "date": "Sun, Jun 1",
        "venue": "Petco Park, San Diego, CA"
    },
    "nyy-lad": {
        "away": {
            "team": "New York Yankees",
            "abbr": "NYY",
            "record": "35-22"
        },
        "home": {
            "team": "Los Angeles Dodgers",
            "abbr": "LAD",
            "record": "36-22"
        },
        "time": "03:10 AM EDT",
        "date": "Sun, Jun 1",
        "venue": "Dodger Stadium, Los Angeles, CA"
    }
};
        
        // Fallback predictions in case API calls fail
        const FALLBACK_PREDICTIONS = {
    "wsh-ari": [
        {
            "source": "OpenAI",
            "text": "Washington Nationals - Arizona Diamondbacks: 1-3\n\nThe Arizona Diamondbacks have a stronger record and home field advantage gives them the edge in this matchup. Their pitching staff has been more consistent recently which should limit the Washington Nationals's scoring opportunities."
        },
        {
            "source": "Anthropic",
            "text": "Washington Nationals - Arizona Diamondbacks: 3-5\n\nAfter analyzing both teams' strengths and weaknesses, the Arizona Diamondbacks appear to have the advantage playing at home. Their recent performance and pitching rotation matchup favorably against the Washington Nationals in this game."
        },
        {
            "source": "Grok",
            "text": "Washington Nationals - Arizona Diamondbacks: 2-3\n\nLooking at the batting averages and bullpen ERA, the Arizona Diamondbacks have clear advantages in key statistical categories. Their home record this season suggests they'll continue their strong performance at Chase Field, Phoenix, AZ."
        },
        {
            "source": "DeepSeek",
            "text": "Washington Nationals - Arizona Diamondbacks: 3-6\n\nStatistical analysis indicates the Arizona Diamondbacks have a 52% win probability in this matchup. Key factors include their home/away splits and superior performance in one-run games this season."
        }
    ],
    "min-sea": [
        {
            "source": "OpenAI",
            "text": "Minnesota Twins - Seattle Mariners: 2-5\n\nThe Seattle Mariners have a stronger record and home field advantage gives them the edge in this matchup. Their pitching staff has been more consistent recently which should limit the Minnesota Twins's scoring opportunities."
        },
        {
            "source": "Anthropic",
            "text": "Minnesota Twins - Seattle Mariners: 1-3\n\nAfter analyzing both teams' strengths and weaknesses, the Seattle Mariners appear to have the advantage playing at home. Their recent performance and pitching rotation matchup favorably against the Minnesota Twins in this game."
        },
        {
            "source": "Grok",
            "text": "Minnesota Twins - Seattle Mariners: 3-6\n\nLooking at the batting averages and bullpen ERA, the Seattle Mariners have clear advantages in key statistical categories. Their home record this season suggests they'll continue their strong performance at T-Mobile Park, Seattle, WA."
        },
        {
            "source": "DeepSeek",
            "text": "Minnesota Twins - Seattle Mariners: 2-6\n\nStatistical analysis indicates the Seattle Mariners have a 52% win probability in this matchup. Key factors include their home/away splits and superior performance in one-run games this season."
        }
    ],
    "pit-sd": [
        {
            "source": "OpenAI",
            "text": "Pittsburgh Pirates - San Diego Padres: 3-4\n\nThe San Diego Padres have a stronger record and home field advantage gives them the edge in this matchup. Their pitching staff has been more consistent recently which should limit the Pittsburgh Pirates's scoring opportunities."
        },
        {
            "source": "Anthropic",
            "text": "Pittsburgh Pirates - San Diego Padres: 1-4\n\nAfter analyzing both teams' strengths and weaknesses, the San Diego Padres appear to have the advantage playing at home. Their recent performance and pitching rotation matchup favorably against the Pittsburgh Pirates in this game."
        },
        {
            "source": "Grok",
            "text": "Pittsburgh Pirates - San Diego Padres: 3-5\n\nLooking at the batting averages and bullpen ERA, the San Diego Padres have clear advantages in key statistical categories. Their home record this season suggests they'll continue their strong performance at Petco Park, San Diego, CA."
        },
        {
            "source": "DeepSeek",
            "text": "Pittsburgh Pirates - San Diego Padres: 2-5\n\nStatistical analysis indicates the San Diego Padres have a 62% win probability in this matchup. Key factors include their home/away splits and superior performance in one-run games this season."
        }
    ],
    "nyy-lad": [
        {
            "source": "OpenAI",
            "text": "New York Yankees - Los Angeles Dodgers: 1-3\n\nThe Los Angeles Dodgers have a stronger record and home field advantage gives them the edge in this matchup. Their pitching staff has been more consistent recently which should limit the New York Yankees's scoring opportunities."
        },
        {
            "source": "Anthropic",
            "text": "New York Yankees - Los Angeles Dodgers: 1-3\n\nAfter analyzing both teams' strengths and weaknesses, the Los Angeles Dodgers appear to have the advantage playing at home. Their recent performance and pitching rotation matchup favorably against the New York Yankees in this game."
        },
        {
            "source": "Grok",
            "text": "New York Yankees - Los Angeles Dodgers: 2-3\n\nLooking at the batting averages and bullpen ERA, the Los Angeles Dodgers have clear advantages in key statistical categories. Their home record this season suggests they'll continue their strong performance at Dodger Stadium, Los Angeles, CA."
        },
        {
            "source": "DeepSeek",
            "text": "New York Yankees - Los Angeles Dodgers: 1-3\n\nStatistical analysis indicates the Los Angeles Dodgers have a 52% win probability in this matchup. Key factors include their home/away splits and superior performance in one-run games this season."
        }
    ]
};
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Settings modal functionality
            const settingsButton = document.getElementById('settingsButton');
            const settingsModal = document.getElementById('settingsModal');
            const closeModal = document.getElementById('closeModal');
            const apiKeyForm = document.getElementById('apiKeyForm');
            
            // Populate form with stored API keys
            document.getElementById('openaiKey').value = API_KEYS.openai;
            document.getElementById('anthropicKey').value = API_KEYS.anthropic;
            document.getElementById('grokKey').value = API_KEYS.grok;
            document.getElementById('deepseekKey').value = API_KEYS.deepseek;
            
            // Update status indicators
            updateApiStatusIndicators();
            
            // Open settings modal
            settingsButton.addEventListener('click', function() {
                settingsModal.classList.add('active');
            });
            
            // Close settings modal
            closeModal.addEventListener('click', function() {
                settingsModal.classList.remove('active');
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === settingsModal) {
                    settingsModal.classList.remove('active');
                }
            });
            
            // Save API keys
            apiKeyForm.addEventListener('submit', function(event) {
                event.preventDefault();
                
                // Get values from form
                const openaiKey = document.getElementById('openaiKey').value.trim();
                const anthropicKey = document.getElementById('anthropicKey').value.trim();
                const grokKey = document.getElementById('grokKey').value.trim();
                const deepseekKey = document.getElementById('deepseekKey').value.trim();
                
                // Store API keys in session storage
                if (openaiKey) {
                    sessionStorage.setItem('openai_api_key', openaiKey);
                    API_KEYS.openai = openaiKey;
                }
                
                if (anthropicKey) {
                    sessionStorage.setItem('anthropic_api_key', anthropicKey);
                    API_KEYS.anthropic = anthropicKey;
                }
                
                if (grokKey) {
                    sessionStorage.setItem('grok_api_key', grokKey);
                    API_KEYS.grok = grokKey;
                }
                
                if (deepseekKey) {
                    sessionStorage.setItem('deepseek_api_key', deepseekKey);
                    API_KEYS.deepseek = deepseekKey;
                }
                
                // Update status indicators
                updateApiStatusIndicators();
                
                // Close modal
                settingsModal.classList.remove('active');
                
                // Show success message
                alert('API keys saved successfully!');
            });
        });
        
        // Update API status indicators
        function updateApiStatusIndicators() {
            const providers = ['openai', 'anthropic', 'grok', 'deepseek'];
            
            providers.forEach(provider => {
                const statusElement = document.getElementById(`${provider}Status`);
                const statusTextElement = document.getElementById(`${provider}StatusText`);
                
                if (API_KEYS[provider]) {
                    statusElement.classList.remove('inactive');
                    statusElement.classList.add('active');
                    statusTextElement.textContent = 'Configured';
                } else {
                    statusElement.classList.remove('active');
                    statusElement.classList.add('inactive');
                    statusTextElement.textContent = 'Not configured';
                }
            });
        }
        
        // Toggle predictions visibility
        function togglePredictions(button) {
            const gameId = button.getAttribute('data-game-id');
            const predictionsDiv = document.getElementById(`predictions-${gameId}`);
            const isActive = predictionsDiv.classList.contains('active');
            
            if (isActive) {
                predictionsDiv.classList.remove('active');
                button.textContent = 'Show Predictions';
            } else {
                // Clear previous predictions
                predictionsDiv.innerHTML = '';
                
                // Add loading spinner
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'prediction-loading';
                loadingDiv.innerHTML = '<div class="loading-spinner"></div> Loading predictions...';
                predictionsDiv.appendChild(loadingDiv);
                
                // Show predictions div
                predictionsDiv.classList.add('active');
                button.textContent = 'Hide Predictions';
                
                // Get predictions
                getPredictions(gameId).then(predictions => {
                    // Remove loading spinner
                    predictionsDiv.innerHTML = '';
                    
                    // Add predictions
                    predictions.forEach(prediction => {
                        const predictionDiv = document.createElement('div');
                        predictionDiv.className = 'prediction';
                        
                        const sourceDiv = document.createElement('div');
                        sourceDiv.className = 'prediction-source';
                        sourceDiv.textContent = `${prediction.source}:`;
                        
                        const textDiv = document.createElement('div');
                        textDiv.className = 'prediction-text';
                        textDiv.textContent = prediction.text;
                        
                        predictionDiv.appendChild(sourceDiv);
                        predictionDiv.appendChild(textDiv);
                        predictionsDiv.appendChild(predictionDiv);
                    });
                });
            }
        }
        
        // Get predictions for a game
        async function getPredictions(gameId) {
            const game = GAMES[gameId];
            
            // Check if any API keys are configured
            const hasApiKeys = API_KEYS.openai || API_KEYS.anthropic || API_KEYS.grok || API_KEYS.deepseek;
            
            if (!hasApiKeys) {
                // No API keys configured, use fallback predictions
                return FALLBACK_PREDICTIONS[gameId];
            }
            
            // Prepare game context for API calls
            const gameContext = `
                Game: ${game.away.team} (${game.away.record}) vs ${game.home.team} (${game.home.record})
                Date: ${game.date}
                Time: ${game.time}
                Venue: ${game.venue}
            `;
            
            // Prepare prompt for API calls
            const prompt = `
                You are a sports analyst providing a prediction for an upcoming MLB game.
                
                ${gameContext}
                
                Provide a brief prediction (2-3 sentences) for this game. Include your reasoning and a final score prediction.
                Keep your response concise and focused on this specific matchup.
            `;
            
            // Initialize predictions array
            const predictions = [];
            
            // Make API calls in parallel
            const apiCalls = [];
            
            // OpenAI API call
            if (API_KEYS.openai) {
                apiCalls.push(
                    callOpenAI(prompt)
                        .then(response => {
                            predictions.push({
                                source: 'OpenAI',
                                text: response
                            });
                        })
                        .catch(error => {
                            console.error('OpenAI API error:', error);
                            // Use fallback prediction
                            const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'OpenAI');
                            if (fallback) {
                                predictions.push(fallback);
                            }
                        })
                );
            } else {
                // Use fallback prediction
                const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'OpenAI');
                if (fallback) {
                    predictions.push(fallback);
                }
            }
            
            // Anthropic API call
            if (API_KEYS.anthropic) {
                apiCalls.push(
                    callAnthropic(prompt)
                        .then(response => {
                            predictions.push({
                                source: 'Anthropic',
                                text: response
                            });
                        })
                        .catch(error => {
                            console.error('Anthropic API error:', error);
                            // Use fallback prediction
                            const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'Anthropic');
                            if (fallback) {
                                predictions.push(fallback);
                            }
                        })
                );
            } else {
                // Use fallback prediction
                const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'Anthropic');
                if (fallback) {
                    predictions.push(fallback);
                }
            }
            
            // Grok API call (simulated)
            if (API_KEYS.grok) {
                apiCalls.push(
                    callGrok(prompt)
                        .then(response => {
                            predictions.push({
                                source: 'Grok',
                                text: response
                            });
                        })
                        .catch(error => {
                            console.error('Grok API error:', error);
                            // Use fallback prediction
                            const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'Grok');
                            if (fallback) {
                                predictions.push(fallback);
                            }
                        })
                );
            } else {
                // Use fallback prediction
                const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'Grok');
                if (fallback) {
                    predictions.push(fallback);
                }
            }
            
            // DeepSeek API call (simulated)
            if (API_KEYS.deepseek) {
                apiCalls.push(
                    callDeepSeek(prompt)
                        .then(response => {
                            predictions.push({
                                source: 'DeepSeek',
                                text: response
                            });
                        })
                        .catch(error => {
                            console.error('DeepSeek API error:', error);
                            // Use fallback prediction
                            const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'DeepSeek');
                            if (fallback) {
                                predictions.push(fallback);
                            }
                        })
                );
            } else {
                // Use fallback prediction
                const fallback = FALLBACK_PREDICTIONS[gameId].find(p => p.source === 'DeepSeek');
                if (fallback) {
                    predictions.push(fallback);
                }
            }
            
            // Wait for all API calls to complete
            await Promise.all(apiCalls);
            
            // Sort predictions by source
            predictions.sort((a, b) => {
                const sources = ['OpenAI', 'Anthropic', 'Grok', 'DeepSeek'];
                return sources.indexOf(a.source) - sources.indexOf(b.source);
            });
            
            return predictions;
        }
        
        // Call OpenAI API
        async function callOpenAI(prompt) {
            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${API_KEYS.openai}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [
                            {
                                role: 'system',
                                content: 'You are a sports analyst providing concise MLB game predictions.'
                            },
                            {
                                role: 'user',
                                content: prompt
                            }
                        ],
                        max_tokens: 150,
                        temperature: 0.7
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`OpenAI API error: ${response.status}`);
                }
                
                const data = await response.json();
                return data.choices[0].message.content.trim();
            } catch (error) {
                console.error('Error calling OpenAI API:', error);
                throw error;
            }
        }
        
        // Call Anthropic API
        async function callAnthropic(prompt) {
            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-api-key': API_KEYS.anthropic,
                        'anthropic-version': '2023-06-01'
                    },
                    body: JSON.stringify({
                        model: 'claude-3-haiku-20240307',
                        max_tokens: 150,
                        messages: [
                            {
                                role: 'user',
                                content: prompt
                            }
                        ]
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`Anthropic API error: ${response.status}`);
                }
                
                const data = await response.json();
                return data.content[0].text;
            } catch (error) {
                console.error('Error calling Anthropic API:', error);
                throw error;
            }
        }
        
        // Call Grok API (simulated)
        async function callGrok(prompt) {
            // This is a simulated API call since Grok doesn't have a public API yet
            // In a real implementation, this would make an actual API call
            return new Promise((resolve) => {
                setTimeout(() => {
                    // Generate a somewhat random prediction based on the game context
                    const gameInfo = prompt.split('\n').filter(line => line.trim());
                    const teams = gameInfo.find(line => line.includes('Game:'))?.split('vs') || [];
                    
                    if (teams.length >= 2) {
                        const awayTeam = teams[0].split('(')[0].trim();
                        const homeTeam = teams[1].split('(')[0].trim();
                        
                        const awayScore = Math.floor(Math.random() * 5) + 2;
                        const homeScore = Math.floor(Math.random() * 5) + 2;
                        
                        const winner = awayScore > homeScore ? awayTeam : homeTeam;
                        const loser = awayScore > homeScore ? homeTeam : awayTeam;
                        const winningScore = Math.max(awayScore, homeScore);
                        const losingScore = Math.min(awayScore, homeScore);
                        
                        resolve(`${winner} has a stronger bullpen and better recent performance. ${loser} has been inconsistent on the road. Prediction: ${winner} defeats ${loser} ${winningScore}-${losingScore}.`);
                    } else {
                        resolve("Based on recent performance and pitching matchups, this should be a competitive game. Expect a close contest with the home team having a slight edge.");
                    }
                }, 1000);
            });
        }
        
        // Call DeepSeek API (simulated)
        async function callDeepSeek(prompt) {
            // This is a simulated API call
            // In a real implementation, this would make an actual API call
            return new Promise((resolve) => {
                setTimeout(() => {
                    // Generate a somewhat random prediction based on the game context
                    const gameInfo = prompt.split('\n').filter(line => line.trim());
                    const teams = gameInfo.find(line => line.includes('Game:'))?.split('vs') || [];
                    
                    if (teams.length >= 2) {
                        const awayTeam = teams[0].split('(')[0].trim();
                        const homeTeam = teams[1].split('(')[0].trim();
                        
                        const winProbability = Math.floor(Math.random() * 30) + 35; // 35-65%
                        const favoredTeam = Math.random() > 0.5 ? awayTeam : homeTeam;
                        
                        resolve(`Statistical analysis gives ${favoredTeam} a ${winProbability}% win probability in this matchup. Key factors include pitching rotation advantage and recent batting performance.`);
                    } else {
                        resolve("Statistical models indicate a 52% win probability for the home team. The key differentiating factors are home field advantage and bullpen performance metrics.");
                    }
                }, 1200);
            });
        }
    </script>
    <div class="disclaimer">
        Predictions are generated by AI and are for entertainment purposes only.
        Do not use for betting advice.
    </div>



</body></html>
